

<mat-dialog-content>
    <mat-form-field  appearance="fill">
      <mat-label>Prix</mat-label>
      <input matInput [(ngModel)]="value" type="text" [formControl]="priceFormControl" [errorStateMatcher]="matcher" >
      <button *ngIf="value" matSuffix mat-icon-button aria-label="Clear" (click)="value=''">
        <mat-icon>close</mat-icon>
      </button>
      <mat-error *ngIf="priceFormControl.hasError('pattern')">
        Entrez uniquement des chiffres positifs
      </mat-error>
    </mat-form-field>

    <mat-divider></mat-divider>

    <mat-form-field *ngIf="promotion"  appearance="fill">
      <mat-label>Prix en promotion</mat-label>
      <input matInput disabled>
    </mat-form-field>

    <mat-divider></mat-divider>

    <mat-form-field  appearance="fill">
      <mat-label>Pourcentage de promotion</mat-label>
      <input matInput [formControl]="percentageDiscountFormControl" [errorStateMatcher]="matcher">
      <mat-error *ngIf="percentageDiscountFormControl.hasError('pattern')">
        Entrez uniquement des chiffres
      </mat-error>
    </mat-form-field>

    <mat-divider></mat-divider>

    <mat-form-field  appearance="fill">
      <mat-label>Quantité</mat-label>
      <input matInput type="number" [formControl]="quantityFormControl" [errorStateMatcher]="matcher">
      <mat-error *ngIf="quantityFormControl.hasError('pattern')">
        Entrez uniquement des chiffres
      </mat-error>
      <!--      TODO: mettre un validateur de range, pas de chiffres negatifs-->
    </mat-form-field>

    <mat-divider></mat-divider>

    <mat-form-field  appearance="fill">
      <mat-label>Quantité vendue</mat-label>
      <input matInput disabled>
    </mat-form-field>

    <mat-divider></mat-divider>

    <mat-form-field  appearance="fill">
      <mat-label>Commentaires</mat-label>
      <textarea matInput [formControl]="lengthFormControl" [errorStateMatcher]="matcher"></textarea>
      <mat-error *ngIf="lengthFormControl.hasError('maxLength')">
        Limite de caractères atteinte
      </mat-error>
    </mat-form-field>

</mat-dialog-content>

<mat-dialog-actions>
  <button mat-button mat-dialog-close>Annuler</button>
  <button mat-button color="primary" [mat-dialog-close]="true" cdkFocusInitial>Enregistrer les modifications</button>
</mat-dialog-actions>
